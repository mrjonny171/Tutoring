{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaosantos/Documents/Tutoring/src/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/context/AuthContext';\n\n// This page acts as a router based on the authenticated user's role.\nexport default function DashboardRedirectPage() {\n  const { profile, loading } = useAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    // Don't redirect until loading is finished and we have profile info\n    if (!loading && profile) {\n      if (profile.role === 'STUDENT') {\n        router.replace('/dashboard/student'); // Use replace to avoid adding to history\n      } else if (profile.role === 'TUTOR') {\n        router.replace('/dashboard/tutor');\n      } else {\n        // Handle unexpected role or error - maybe redirect to login?\n        console.error(\"User has unexpected role:\", profile.role);\n        // router.replace('/login'); // Or show an error message\n      }\n    } else if (!loading && !profile) {\n      // Handle case where user is somehow past middleware but has no profile (error)\n      console.error(\"No profile found after loading.\");\n      // router.replace('/login'); // Redirect to login as a fallback\n    }\n  }, [profile, loading, router]);\n\n  // Display a loading state while determining the role and redirecting\n  return (\n    <div className=\"flex items-center justify-center min-h-screen\">\n      <p>Loading dashboard...</p>\n      {/* Optional: Add a spinner component here */}\n    </div>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAOe,SAAS;;IACtB,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD;IACnC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;2CAAE;YACR,oEAAoE;YACpE,IAAI,CAAC,WAAW,SAAS;gBACvB,IAAI,QAAQ,IAAI,KAAK,WAAW;oBAC9B,OAAO,OAAO,CAAC,uBAAuB,yCAAyC;gBACjF,OAAO,IAAI,QAAQ,IAAI,KAAK,SAAS;oBACnC,OAAO,OAAO,CAAC;gBACjB,OAAO;oBACL,6DAA6D;oBAC7D,QAAQ,KAAK,CAAC,6BAA6B,QAAQ,IAAI;gBACvD,wDAAwD;gBAC1D;YACF,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS;gBAC/B,+EAA+E;gBAC/E,QAAQ,KAAK,CAAC;YACd,+DAA+D;YACjE;QACF;0CAAG;QAAC;QAAS;QAAS;KAAO;IAE7B,qEAAqE;IACrE,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;sBAAE;;;;;;;;;;;AAIT;GA9BwB;;QACO,iIAAA,CAAA,UAAO;QACrB,qIAAA,CAAA,YAAS;;;KAFF","debugId":null}}]
}