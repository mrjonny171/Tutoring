{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/joaosantos/Documents/Tutoring/src/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/context/AuthContext';\n\n// This page acts as a router based on the authenticated user's role.\nexport default function DashboardRedirectPage() {\n  const { profile, loading } = useAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    // Don't redirect until loading is finished and we have profile info\n    if (!loading && profile) {\n      if (profile.role === 'STUDENT') {\n        router.replace('/dashboard/student'); // Use replace to avoid adding to history\n      } else if (profile.role === 'TUTOR') {\n        router.replace('/dashboard/tutor');\n      } else {\n        // Handle unexpected role or error - maybe redirect to login?\n        console.error(\"User has unexpected role:\", profile.role);\n        // router.replace('/login'); // Or show an error message\n      }\n    } else if (!loading && !profile) {\n      // Handle case where user is somehow past middleware but has no profile (error)\n      console.error(\"No profile found after loading.\");\n      // router.replace('/login'); // Redirect to login as a fallback\n    }\n  }, [profile, loading, router]);\n\n  // Display a loading state while determining the role and redirecting\n  return (\n    <div className=\"flex items-center justify-center min-h-screen\">\n      <p>Loading dashboard...</p>\n      {/* Optional: Add a spinner component here */}\n    </div>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAOe,SAAS;IACtB,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,8HAAA,CAAA,UAAO,AAAD;IACnC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,oEAAoE;QACpE,IAAI,CAAC,WAAW,SAAS;YACvB,IAAI,QAAQ,IAAI,KAAK,WAAW;gBAC9B,OAAO,OAAO,CAAC,uBAAuB,yCAAyC;YACjF,OAAO,IAAI,QAAQ,IAAI,KAAK,SAAS;gBACnC,OAAO,OAAO,CAAC;YACjB,OAAO;gBACL,6DAA6D;gBAC7D,QAAQ,KAAK,CAAC,6BAA6B,QAAQ,IAAI;YACvD,wDAAwD;YAC1D;QACF,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS;YAC/B,+EAA+E;YAC/E,QAAQ,KAAK,CAAC;QACd,+DAA+D;QACjE;IACF,GAAG;QAAC;QAAS;QAAS;KAAO;IAE7B,qEAAqE;IACrE,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;sBAAE;;;;;;;;;;;AAIT","debugId":null}}]
}